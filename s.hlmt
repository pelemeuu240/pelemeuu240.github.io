<!DOCTYPE html>
<html lang="ru">
<head>
    <title>Файловый обменник (Статический)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <style>
        .position-relative { position: relative; }
        .eye-icon { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; }
        button, a { box-shadow: none !important; }  /* Убрана аура у кнопок */
        /* Фикс ауры сайта (убран градиент/тень, простой тёмный фон) */
        body { background: #1a1a1a; color: #fff; }
    </style>
</head>
<body>
    <div class="container mt-5" id="loginForm">
        <h2>Вход</h2>
        <input type="email" id="email" placeholder="Email" required class="form-control mb-2">
        <div class="position-relative mb-2">
            <input type="password" id="password" placeholder="Пароль" required class="form-control">
            <span class="eye-icon" onclick="togglePassword('password')"><i class="fas fa-eye-slash"></i></span>
        </div>
        <button onclick="login()" class="btn btn-primary">Войти</button>
        <p>Нет аккаунта? <a href="#" onclick="showRegister()">Создай</a></p>
    </div>

    <div class="container mt-5 d-none" id="registerForm">
        <h2>Регистрация</h2>
        <input type="text" id="nickname" placeholder="Никнейм" required class="form-control mb-2">
        <input type="email" id="regEmail" placeholder="Email" required class="form-control mb-2">
        <div class="position-relative mb-2">
            <input type="password" id="regPassword" placeholder="Пароль" required class="form-control">
            <span class="eye-icon" onclick="togglePassword('regPassword')"><i class="fas fa-eye-slash"></i></span>
        </div>
        <div class="position-relative mb-2">
            <input type="password" id="confirmPassword" placeholder="Подтверждение пароля" required class="form-control">
            <span class="eye-icon" onclick="togglePassword('confirmPassword')"><i class="fas fa-eye-slash"></i></span>
        </div>
        <button onclick="register()" class="btn btn-primary">Зарегистрироваться</button>
        <p>Есть аккаунт? <a href="#" onclick="showLogin()">Войти</a></p>
    </div>

    <div class="container mt-5 d-none" id="mainContent">
        <h2>Добро пожаловать!</h2>
        <button onclick="logout()" class="btn btn-secondary">Выйти</button>
        <!-- Здесь ваш основной контент -->
    </div>

    <script>
        function togglePassword(id) {
            const input = document.getElementById(id);
            const icon = input.nextElementSibling.querySelector('i');
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            } else {
                input.type = 'password';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            }
        }

        function showRegister() {
            document.getElementById('loginForm').classList.add('d-none');
            document.getElementById('registerForm').classList.remove('d-none');
        }

        function showLogin() {
            document.getElementById('registerForm').classList.add('d-none');
            document.getElementById('loginForm').classList.remove('d-none');
        }

        function register() {
            const nickname = document.getElementById('nickname').value;
            const email = document.getElementById('regEmail').value;
            const password = document.getElementById('regPassword').value;
            const confirm = document.getElementById('confirmPassword').value;

            if (password !== confirm) return alert('Пароли не совпадают');

            localStorage.setItem('user', JSON.stringify({nickname, email, password}));
            alert('Регистрация успешна! Теперь войдите.');
            showLogin();
        }

        function login() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const user = JSON.parse(localStorage.getItem('user'));

            if (user && user.email === email && user.password === password) {
                document.getElementById('loginForm').classList.add('d-none');
                document.getElementById('mainContent').classList.remove('d-none');
            } else {
                alert('Неверный email или пароль');
            }
        }

        function logout() {
            document.getElementById('mainContent').classList.add('d-none');
            document.getElementById('loginForm').classList.remove('d-none');
        }
    </script>
</body>
</html>
